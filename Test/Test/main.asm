.ORG 0

; CONFIG PORTB INPUT; PORTC AND PORTD OUTPUT
SER R16
OUT DDRC, R16
OUT DDRD, R16
OUT PORTB, R16
CLR R16
OUT DDRB, R16

;SOLTUTION

LOOP:
	IN R20, PINB
	MOV R21, R20
	ANDI R21, 0B00001111
	CALL HEXTOASCII
	OUT PORTC, R21
	MOV R21, R20
	ANDI R21, 0B11110000
	SWAP R21
	CALL HEXTOASCII
	OUT PORTD, R21
	CPI R20, 0
	BREQ END
	RJMP LOOP
END: RJMP END

HEXTOASCII:
	CPI R21, $A
	BRCC CHARACTER
	LDI R22, $30
	ADD R21, R22	;NUMBER
	RET
CHARACTER:
	LDI R22, $30
	ADD R21, R22
	RET